<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Seating Rotator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="loginOverlay" class="login-overlay">
        <div class="login-box">
            <h2>Class Seating Login</h2>
            <div class="form-group">
                <label for="loginId">User ID:</label>
                <input type="text" id="loginId" required>
            </div>
            <div class="form-group">
                <label for="loginPassword">Password:</label>
                <input type="password" id="loginPassword" required>
            </div>
            <button onclick="checkLogin()">Login</button>
            <p id="loginErrorMessage" class="error-message"></p>
        </div>
    </div>

    <div class="container">
        <div class="header-section">
            <h1>Class Seating Arrangement Rotator</h1>
            <button class="logout-button" onclick="logout()">Logout</button>
        </div>
        <p class="subtitle">Seats rotate within their row based on the date. Changes sync across all browsers.</p>
        <p class="note">Rotation cycle starts relative to Jan 1, 2024 (a Monday).</p>

        <div class="form-section">
            <div class="form-group">
                <label for="yearInput">Year:</label>
                <input type="number" id="yearInput" required min="2000" max="2100">
            </div>
            <div class="form-group">
                <label for="monthInput">Month (1-12):</label>
                <input type="number" id="monthInput" required min="1" max="12">
            </div>
            <div class="form-group">
                <label for="dayInput">Day (1-31):</label>
                <input type="number" id="dayInput" required min="1" max="31">
            </div>
            <button onclick="displaySeating()">Get Seating</button>
        </div>

        <p id="errorMessage" class="error-message"></p>

        <div class="actions-section">
            <button onclick="saveSeating()">Save Current Arrangement</button>
            <button class="reset-button" onclick="resetSeatingToDefault()">Reset to Default</button>
        </div>

        <div id="seatingOutput" class="seating-chart">
        </div>
    </div>

    <script type="module" src="https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.4.0/firebase-firestore.js"></script>

    <script type="module" src="script.js"></script>
</body>
</html>